<odoo>
    <template id="report_purchaseorder_document_custom">
        <t t-call="web.external_layout">
            <t t-foreach="docs" t-as="o">
                <main>
                    <div class="page">
                        <!-- Contenido en dos columnas -->
                        <table style="width: 100%; margin-bottom: 20px; border-collapse: collapse;">
                            <tr>
                                <td style="width: 50%; padding: 8px; vertical-align: top; border: 1px solid #ffffff">
                                    <p style="margin: 0; font-size: 20px; line-height: 1.6;">
                                        <strong style="margin: 0; font-size: 20px;">Proveedor:</strong><br />
                                        <strong><span style="margin: 0; font-size: 16px;" t-field="o.partner_id.name"/></strong>
                                    </p>
                                    <div t-field="o.partner_id"
                                         t-options="{'widget': 'contact', 'fields': ['address', 'phone', 'vat'],
                                                     'no_marker': True, 'phone_icons': True}"/>
                                </td>
                                <td style="width: 50%; padding: 8px; vertical-align: top; border: 1px solid #ffffff">
                                    <p style="margin: 0; font-size: 20px; line-height: 1.4;">
                                        <strong style="margin: 0; font-size: 20px;">Direcci칩n de Entrega:</strong><br />
                                        <strong>Hex치gonos Mexicanos S.A. de C.V.</strong>
                                        <span t-esc="o.custom_delivery_address" style="font-size: 14px;"/>
                                        <span style="font-size: 16px;">
                                            <i class="fa fa-phone"></i>( 818 )-388-61-65
                                        </span>
                                    </p>
                                </td>
                            </tr>
                        </table>

                        <!-- Solicitud de Presupuesto -->
                        <div class="request-header" style="padding: 20px; margin-bottom: 35px;">
                            <p style="font-size: 30px; font-weight: 900;">
                                <t t-if="o.state in ['draft', 'sent', 'to approve']">
                                    <strong>Requisici칩n de Materiales #<span t-field="o.name"/></strong>
                                </t>
                                <t t-if="o.state in ['purchase', 'done']">
                                    <strong>Pedido de Compra #<span t-field="o.name"/></strong>
                                </t>
                                <t t-if="o.state == 'cancel'">
                                    <strong>Pedido de Compra Cancelado #<span t-field="o.name"/></strong>
                                </t>
                            </p>
                            <p>Representante: <strong>Lic. Alejandra Aguilar</strong></p>
                            <p>Fecha del pedido: 
                                <span t-field="o.date_order" t-options="{'widget': 'date', 'format': 'dd/MM/yyyy'}"/>
                            </p>
                            <p>Divisa: <strong><t t-esc="o.currency_id.name"/></strong></p>
                        </div> <!-- Cerramos correctamente el div -->

                        <!-- Detalles de la Orden de Compra -->
                        <table style="width: 100%; border-collapse: collapse; margin-top: 20px;">
                            <thead>
                                <tr>
                                    <th>Descripci칩n</th>
                                    <th>Cant</th>
                                    <th>Precio Unidad</th>
                                    <th>Impuestos</th>
                                    <th>Monto</th>
                                </tr>
                            </thead>
                            <tbody>
                                <t t-foreach="o.order_line" t-as="line">
                                    <tr>
                                        <td><span t-field="line.name"/></td>
                                        <td><span t-field="line.product_qty"/></td>
                                        <td>
                                            <span t-field="line.price_unit"
                                                  t-options="{'widget': 'monetary', 'display_currency': o.currency_id}"/>
                                        </td>
                                        <td>
                                            <span t-field="line.price_tax"
                                                  t-options="{'widget': 'monetary', 'display_currency': o.currency_id}"/>
                                        </td>
                                        <td>
                                            <span t-field="line.price_subtotal"
                                                  t-options="{'widget': 'monetary', 'display_currency': o.currency_id}"/>
                                        </td>
                                    </tr>
                                </t>
                            </tbody>
                        </table>

                        <!-- Totales -->
                        <table style="width: 45%; margin-top: 30px; margin-left: auto;">
                            <tbody>
                                <tr>
                                    <td><strong>Subtotal:</strong></td>
                                    <td>
                                        <span t-field="o.amount_untaxed"
                                              t-options="{'widget': 'monetary', 'display_currency': o.currency_id}"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td><strong>Impuestos:</strong></td>
                                    <td>
                                        <span t-field="o.amount_tax"
                                              t-options="{'widget': 'monetary', 'display_currency': o.currency_id}"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td><strong>Total:</strong></td>
                                    <td>
                                        <span t-field="o.amount_total"
                                              t-options="{'widget': 'monetary', 'display_currency': o.currency_id}"/>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div> <!-- Cerramos correctamente el div -->
                </main>
            </t>
        </t>
    </template>
</odoo>

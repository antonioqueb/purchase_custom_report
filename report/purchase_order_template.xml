<odoo>
    <template id="report_purchaseorder_document_custom">
        <div class="page" style="font-family: 'DejaVu Sans', sans-serif; margin: 20px;">
            <!-- Iterar sobre los documentos (orders) -->
            <main t-foreach="docs" t-as="doc">
                <!-- Información del Proveedor y Dirección de Entrega -->
                <div class="header-section" style="padding: 10px; margin-bottom: 20px;">
                    <div class="row" style="display: flex; justify-content: space-between; margin-bottom: 20px;">
                        <!-- Información del Proveedor -->
                        <div class="col-6" style="width: 48%;">
                            <p style="margin: 0; font-size: 14px; line-height: 1.6;">
                                <strong>Proveedor:</strong><br />
                                <span t-esc="doc.partner_id.name"/>
                            </p>
                            <p style="margin: 5px 0; font-size: 12px; color: #555; line-height: 1.4;">
                                <span t-esc="doc.partner_id.street"/><br />
                                <strong>RFC:</strong> <span t-esc="doc.partner_id.vat"/>
                            </p>
                        </div>

                        <!-- Dirección de Entrega y Fechas -->
                        <div class="col-6 text-right" style="width: 48%; display: flex; flex-direction: column; align-items: flex-end; justify-content: space-between;">
                            <p style="margin: 0; font-size: 14px; line-height: 1.6;">
                                <strong>Dirección de Entrega:</strong><br />
                                <span t-if="doc.partner_shipping_id">
                                    <span t-esc="doc.partner_shipping_id.street"/><br />
                                    <span t-esc="doc.partner_shipping_id.city"/>, <span t-esc="doc.partner_shipping_id.zip"/><br />
                                </span>
                                <span t-if="not doc.partner_shipping_id">
                                    <em>No asignada</em>
                                </span>
                            </p>
                            <p style="margin: 0; font-size: 12px; color: #555; text-align: right; line-height: 1.4;">
                                <strong>Fecha del pedido:</strong> <span t-esc="doc.date_order"/><br />
                                <strong>Fecha requerida:</strong> <span t-esc="doc.date_planned"/><br />
                                <strong>Solicitud de Presupuesto:</strong> <span t-esc="doc.name"/>
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Solicitud de Presupuesto -->
                <div class="request-header" style="padding: 10px; border-bottom: 1px solid #ddd; margin-bottom: 20px; font-size: 14px;">
                    <p><strong>Requisición de Presupuesto #<span t-esc="doc.name"/></strong></p>
                    <p>Representante del Proveedor: <span t-esc="doc.user_id.name"/></p>
                    <p>Fecha del pedido: <span t-esc="doc.date_order"/></p>
                </div>

                <!-- Detalles de la Orden de Compra -->
                <table style="width: 100%; border-collapse: collapse; margin-top: 10px;">
                    <thead>
                        <tr style="background-color: #f0f0f0;">
                            <th style="padding: 8px; border: 1px solid #ddd; text-align: left;">Descripción</th>
                            <th style="padding: 8px; border: 1px solid #ddd; text-align: right;">Cant</th>
                            <th style="padding: 8px; border: 1px solid #ddd; text-align: right;">Precio Unidad</th>
                            <th style="padding: 8px; border: 1px solid #ddd; text-align: right;">Monto</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr t-foreach="doc.order_line" t-as="line">
                            <td style="padding: 8px; border: 1px solid #ddd;" t-esc="line.name"/>
                            <td style="padding: 8px; border: 1px solid #ddd; text-align: right;" t-esc="line.product_qty"/>
                            <td style="padding: 8px; border: 1px solid #ddd; text-align: right;" t-esc="line.price_unit"/>
                            <td style="padding: 8px; border: 1px solid #ddd; text-align: right;" t-esc="line.price_total"/>
                        </tr>
                    </tbody>
                </table>

                <!-- Totales -->
                <table style="width: 50%; border-collapse: collapse; margin-top: 20px; margin-left: auto; font-size: 14px;">
                    <tbody>
                        <tr>
                            <td style="padding: 8px; border: 1px solid #ddd;"><strong>Subtotal:</strong></td>
                            <td class="text-right" style="padding: 8px; border: 1px solid #ddd;" t-esc="doc.amount_untaxed"/>
                        </tr>
                        <tr>
                            <td style="padding: 8px; border: 1px solid #ddd;"><strong>Impuestos (16%):</strong></td>
                            <td class="text-right" style="padding: 8px; border: 1px solid #ddd;" t-esc="doc.amount_tax"/>
                        </tr>
                        <tr>
                            <td style="padding: 8px; border: 1px solid #ddd;"><strong>Total:</strong></td>
                            <td class="text-right" style="padding: 8px; border: 1px solid #ddd;"><strong t-esc="doc.amount_total"/></td>
                        </tr>
                    </tbody>
                </table>

                <!-- Información adicional -->
                <div class="additional-info" style="margin-top: 20px; font-size: 12px; display: flex; justify-content: center; align-items: center;">
                    <div class="info-block" style="border: 1px solid #ddd; padding: 10px; margin-bottom: 10px;">
                        <p>Datos adicionales del proveedor:</p>
                        <p>Email: <span t-esc="doc.partner_id.email"/></p>
                        <p>Tel: <span t-esc="doc.partner_id.phone"/></p>
                    </div>
                </div>

            </main>
        </div>
    </template>
</odoo>
